# Working agreement (必読)

## 変更適用ルール
- 回答は日本語で行うこと
- あなた（AI）は、私の明示的な許可が出るまで **ファイルを変更しない**
- 常にプロジェクト全体の構成を確認し、指示に対して最適なプラン考えること
- js系のコード内にはメンテナンス用に処理の概要をコメントアウトで記載すること
- 変更が必要な場合は、必ず次の順で進めること
  - 明示的に指示した場合は必ずしも手順を順守しなくてもよい

## 手順（順守）
1. 変更方針（なぜ必要か、選択肢、リスク）
2. 影響範囲（触るファイル一覧）
3. 疑問が解決するまで確認すること
4. 疑問が解決したら最後に提案する差分（diff形式）を提示（変更範囲が大きい場合は不要）
5. 私が「OK」、または「おｋ」と許可するまで適用しない
6. 適用後、要約と検証コマンド（例: tests/lint/build）を提示
7. 実行予定のGitコマンドは事前に列挙し、Gitへプッシュするかを確認（コミットメッセージはおまかせで）
 
## 禁止事項
- 指示が曖昧な場合に推測で大規模改変しない
- フォーマットのみの無意味な変更（大量の整形）をしない
- 既存仕様を壊す変更をテストなしで入れない

## Frontend Structure Policy

### 基本方針
- HTML / CSS / JavaScript は原則として **ファイル分離**すること
- 役割は以下の通りとする
  - HTML: 構造・マークアップのみ
  - CSS: 見た目・レイアウトのみ(レスポンシブであること)
  - JavaScript: 挙動・ロジックのみ

### 分離ルール
- `<style>` や `<script>` を HTML 内に直接記述することは禁止
- CSS は外部 `.css` ファイルとして管理する
- JavaScript は外部 `.js` ファイルとして管理する
- HTML からは `<link>` / `<script src="">` により参照する

### 例外条件（明示的に許可された場合のみ）
以下の場合に限り、HTML 内への直接記述を許可する
- 検証・プロトタイプ用途
- 1ページ完結の一時的なLP
- Google Apps Script (GAS) の HTML テンプレート
- iframe 用の単体 HTML
- 明示的に「分離しない」と指示があった場合
